##############################################################
|exerciseicon__T| Exercici 32_41. El tres en ratlla en taulell
##############################################################

.. rubric:: Context

* Carpeta de lliurament: ``32_41_tresenratlla_taulell/``

* Continguts relacionats: :doc:`arrays_taules`

* Com lliurar-lo: :ref:`instruccions <instruccions_git>`

* [✓] Exercici amb :ref:`autoavaluació<descripcio_exercicis_autoavaluacio>`

.. rubric:: Enunciat

Tornem a considerar l'exercici del :doc:`tres en ratlla
<exercici_32_40_tresenratlla_files>`

En aquesta ocasió representarem tot el taulell, no amb variables separades
``fila0``, ``fila1`` i ``fila2``, sinó amb una taula de caràcters.

La situació inicial a representar serà:

.. image:: _images/tictactoebasicXwins.svg
    :width: 256
    :align: center

A banda, el programa demanarà quin és el següent moviment de les **ㄨ** i
el coŀlocarà al taulell.

.. code-block:: java
    :linenos:

    /* XXX comentari adequat */
    public class TresEnRatlla {
        public static void main(String[] args){
            // declaració del taulell
            char[][] taulell = new char[3][3];

            // inicialització de la fila 0
            taulell[0][0] = /* XXX */;

            // inicialització de la resta de files
            /* XXX */

            // mostra la posició inicial del taulell
            System.out.println("La posició inicial del taulell:");
            mostraFila(taulell[/* XXX */]);     // mostra la línia 0
            mostraFila(taulell[/* XXX */]);     // mostra la línia 1
            mostraFila(taulell[/* XXX */]);     // mostra la línia 2

            // demana coordenades del moviment del jugador X
            System.out.println("Fila del següent moviment?");
            int fila = Integer.parseInt(Entrada.readLine());
            System.out.println("Columna del següent moviment?");
            int columna = Integer.parseInt(Entrada.readLine());

            // marquem el nou moviment
            taulell[/* XXX */][/* XXX */] = 'X';

            // tornem a mostrar el taulell
            System.out.println("La posició final del taulell:");
            /* XXX */
        }

        // mostra el contingut de la fila per sortida estàndard
        public static void mostraFila(char[] fila) {
            for (/* XXX */) {
                System.out.print(fila[col]);
            }
            System.out.println();
        }
    }

Una simulació d'execució en la que guanya **ㄨ** seria:

.. code-block:: console
   :emphasize-lines: 2-5, 7, 9-

    $ java TresEnRatlla 
    La posició inicial del taulell:
    ·OO
    ·X·
    ··X
    Fila del següent moviment?
    0
    Columna del següent moviment?
    0
    La posició final del taulell:
    XOO
    ·X·
    ··X

Proposta de millora
===================

El programa, tal i com implica la plantilla, confia plenament en que l'entrada que rep
sigui correcta. T'has preguntat què passaria si ens introdueixen la fila
``42`` o la ``-1`` o la ``"primera"``?

Si el teu orgull de programadora/programador no et permet fer un programa
tan pobre, et proposo que li afegeixis les comprovacions necessàries
perquè el resultat sigui més robust.
