

<!DOCTYPE html>
<html class="writer-html5" lang="ca" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Mutabilitat &mdash; Introducció a la programació amb Java 2020-21 documentació</title>
  

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/moistyle.css" type="text/css" />

  
  
  
  

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/language_data.js"></script>
        <script src="_static/translations.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    
    <link rel="author" title="Quant a aquests documents" href="about.html" />
    <link rel="index" title="Índex" href="genindex.html" />
    <link rel="search" title="Cerca" href="search.html" />
    <link rel="next" title="Recursivitat" href="moduls_recursivitat.html" />
    <link rel="prev" title="Taules" href="arrays_taules.html" />
     
    <script class="googleanalytics" src="_static/moiscripts.js"></script>

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home" alt="Documentation Home"> Introducció a la programació amb Java
          

          
            
            <img src="_static/logoprg.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <div class="version">
                2020-21
              </div>
            
          

          

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="primeres_passes.html">Primeres passes</a></li>
<li class="toctree-l1"><a class="reference internal" href="basics.html">Elements bàsics de la programació</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="moduls.html">Mòduls</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="moduls_junit.html">Una mica de bricolatge</a></li>
<li class="toctree-l2"><a class="reference internal" href="moduls_intro.html">Un primer contacte</a></li>
<li class="toctree-l2"><a class="reference internal" href="moduls_funcions.html">Funcions</a></li>
<li class="toctree-l2"><a class="reference internal" href="moduls_variables.html">Variables i mòduls</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="arrays.html">Arrays</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="arrays_justificacio.html">Necessitem les <em>seqüències</em></a></li>
<li class="toctree-l3"><a class="reference internal" href="arrays_en_java.html">Seqüències en Java</a></li>
<li class="toctree-l3"><a class="reference internal" href="arrays_taules.html">Taules</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">Mutabilitat</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="moduls_recursivitat.html">Recursivitat</a></li>
<li class="toctree-l2"><a class="reference internal" href="moduls_conclusions.html">Conclusions</a></li>
<li class="toctree-l2"><a class="reference internal" href="moduls_exercicis.html">Llista d’exercicis</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="fitxers.html">Fitxers</a></li>
<li class="toctree-l1"><a class="reference internal" href="poo.html">Programació Orientada a Objectes</a></li>
<li class="toctree-l1"><a class="reference internal" href="biblioteques.html">Biblioteques</a></li>
<li class="toctree-l1"><a class="reference internal" href="bd.html">Persistència amb bases de dades</a></li>
<li class="toctree-l1"><a class="reference internal" href="apendix.html">Apèndix</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Introducció a la programació amb Java</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="moduls.html">Mòduls</a> &raquo;</li>
        
          <li><a href="arrays.html">Arrays</a> &raquo;</li>
        
      <li>Mutabilitat</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
    
           <div itemprop="articleBody">
            
  <div class="section" id="mutabilitat">
<h1>Mutabilitat<a class="headerlink" href="#mutabilitat" title="Link permanent a aquest títol">¶</a></h1>
<p>Els arrays ens introdueixen un concepte fins ara desconegut: la <strong>mutabilitat</strong></p>
<p>Fins ara, tots els tipus de dades que havíem vist tenien sempre el mateix
valor. És a dir, són immutables. En cas de modificar-los, podíem considerar que era un nou valor.</p>
<p>Deixa’m que m’expliqui</p>
<div class="section" id="inmutabilitat-dels-enters">
<h2>Inmutabilitat dels enters<a class="headerlink" href="#inmutabilitat-dels-enters" title="Link permanent a aquest títol">¶</a></h2>
<p>Considera el cas següent:</p>
<div class="highlight-java notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kt">int</span> <span class="n">edat</span> <span class="o">=</span> <span class="mi">18</span><span class="p">;</span>
<span class="n">edat</span> <span class="o">=</span> <span class="n">edat</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span>
</pre></div>
</td></tr></table></div>
<p>Podem canviar el valor de <code class="docutils literal notranslate"><span class="pre">edat</span></code> per 19, però no hem modificat el valor
18. És tan evident que costa d’entendre per on vaig, oi?</p>
</div>
<div class="section" id="immutabilitat-dels-strings">
<h2>Immutabilitat dels Strings<a class="headerlink" href="#immutabilitat-dels-strings" title="Link permanent a aquest títol">¶</a></h2>
<p>A veure què passa amb els Strings</p>
<div class="highlight-java notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="n">String</span> <span class="n">nom</span> <span class="o">=</span> <span class="s">&quot;macarena&quot;</span><span class="p">;</span>
<span class="n">nom</span> <span class="o">=</span> <span class="n">Character</span><span class="p">.</span><span class="na">toUpperCase</span><span class="p">(</span><span class="n">nom</span><span class="p">.</span><span class="na">charAt</span><span class="p">(</span><span class="mi">0</span><span class="p">))</span> <span class="o">+</span> <span class="n">nom</span><span class="p">.</span><span class="na">substring</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
</pre></div>
</td></tr></table></div>
<p>El codi anterior corregeix el nom posant la inicial en majúscules. Podríem
entendre que simplement s’ha substituït la <code class="docutils literal notranslate"><span class="pre">'m'</span></code> per <code class="docutils literal notranslate"><span class="pre">'M'</span></code>, però no ha
estat així.</p>
<p>Analitzem l’execució del fragment anterior pas a pas. Ho farem de manera
simplificada així que només quedat amb la idea i no amb els detalls.</p>
<p>Comencem per la declaració</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 41%" />
<col style="width: 13%" />
<col style="width: 12%" />
<col style="width: 35%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>instrucció</p></th>
<th class="head" colspan="2"><p>noms</p></th>
<th class="head"><p>Memòria</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>String nom</p></td>
<td colspan="2"><p>nom → ?</p></td>
<td></td>
</tr>
</tbody>
</table>
<p>En aquest moment la memòria no té encara cap valor per a aquest fragment
de codi. La variable <code class="docutils literal notranslate"><span class="pre">nom</span></code> de moment està marcada com no inicialitzada.</p>
<p>A continuació, Java guardarà el literal <code class="docutils literal notranslate"><span class="pre">&quot;macarena&quot;</span></code>. De fet, aquest
literal estarà guardat en temps de compilació, però accepta’m la
simplificació.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 41%" />
<col style="width: 13%" />
<col style="width: 12%" />
<col style="width: 35%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>instrucció</p></th>
<th class="head" colspan="2"><p>noms</p></th>
<th class="head"><p>Memòria</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>&quot;macarena&quot;</p></td>
<td colspan="2"><p>nom → ?</p></td>
<td><p>[&#64;100] &quot;macarena&quot;</p></td>
</tr>
</tbody>
</table>
<p>Suposarem que el literal es guarda a la posició de memòria <em>&#64;100</em>.
(evidentment el número 100 és inventat!)</p>
<p>Ara, procedim a la inicialització de <code class="docutils literal notranslate"><span class="pre">nom</span></code> amb l’adreça de memòria on
està emmagatzemat el text <code class="docutils literal notranslate"><span class="pre">&quot;macarena&quot;</span></code>.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 41%" />
<col style="width: 13%" />
<col style="width: 12%" />
<col style="width: 35%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>instrucció</p></th>
<th class="head" colspan="2"><p>noms</p></th>
<th class="head"><p>Memòria</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>nom = &#64;100</p></td>
<td colspan="2"><p>nom → &#64;100</p></td>
<td><p>[&#64;100] &quot;macarena&quot;</p></td>
</tr>
</tbody>
</table>
<p>Fixa’t que <code class="docutils literal notranslate"><span class="pre">nom</span></code> <strong>no</strong> conté <code class="docutils literal notranslate"><span class="pre">&quot;macarena&quot;</span></code> sinó simplement la posició
de memòria on s’hi troba emmagatzemat el literal.</p>
<p>Un cop resolta la primera línia del nostre codi, passem a la segona.</p>
<p>En primer lloc, Java intentarà resoldre l’expressió
<code class="docutils literal notranslate"><span class="pre">Character.toUpperCase(nom.charAt(0))</span> <span class="pre">+</span> <span class="pre">nom.substring(1)</span></code> abans
d’assignar el resultat a <code class="docutils literal notranslate"><span class="pre">nom</span></code>.</p>
<p>El primer que farà serà ressoldre la primera part de l’expressió
<code class="docutils literal notranslate"><span class="pre">Character.toUpperCase(nom.charAt(0))</span></code> i per fer-ho, li caldrà encara
fer un pas més: resoldre la subexpressió <code class="docutils literal notranslate"><span class="pre">nom.charAt(0)</span></code> per poder
disposar del valor a passar-li a la funció <code class="docutils literal notranslate"><span class="pre">Character.toUpperCase()</span></code>.</p>
<p>De fet, també hauria de resoldre l’expressió <code class="docutils literal notranslate"><span class="pre">0</span></code> per poder disposar del
valor que se li passa a la funció <code class="docutils literal notranslate"><span class="pre">nom.charAt()</span></code>, però aquesta és molt
bàsica i resulta en l’esperat valor enter <code class="docutils literal notranslate"><span class="pre">0</span></code>.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 41%" />
<col style="width: 13%" />
<col style="width: 12%" />
<col style="width: 35%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>instrucció</p></th>
<th class="head" colspan="2"><p>noms</p></th>
<th class="head"><p>Memòria</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td rowspan="2"><p>nom.charAt(0)</p></td>
<td colspan="2" rowspan="2"><p>nom → &#64;100</p></td>
<td><p>[&#64;100] &quot;macarena&quot;</p></td>
</tr>
<tr class="row-odd"><td><p>[&#64;200] 'm'</p></td>
</tr>
</tbody>
</table>
<p>En aquesta ocasió, la funció <code class="docutils literal notranslate"><span class="pre">charAt()</span></code> recull el valor de la posició
&#64;100 i el literal <code class="docutils literal notranslate"><span class="pre">0</span></code> i retorna el caràcter en la posició <code class="docutils literal notranslate"><span class="pre">0</span></code> de
<code class="docutils literal notranslate"><span class="pre">&quot;macarena&quot;</span></code>, és a dir 'm'. Java guarda aquest resultat a memòria.</p>
<p>Ara que ja tenim el valor de l’argument, podem fer el següent pas:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 43%" />
<col style="width: 13%" />
<col style="width: 11%" />
<col style="width: 33%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>instrucció</p></th>
<th class="head" colspan="2"><p>noms</p></th>
<th class="head"><p>Memòria</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td rowspan="3"><p>Character.toUpperCase('m')</p></td>
<td colspan="2" rowspan="3"><p>nom → &#64;100</p></td>
<td><p>[&#64;100] &quot;macarena&quot;</p></td>
</tr>
<tr class="row-odd"><td><p>[&#64;200] 'm'</p></td>
</tr>
<tr class="row-even"><td><p>[&#64;300] 'M'</p></td>
</tr>
</tbody>
</table>
<p>En aquest nou pas, <code class="docutils literal notranslate"><span class="pre">toUpperCase()</span></code> recull el caràcter <code class="docutils literal notranslate"><span class="pre">'m'</span></code> guardat a la
memòria i retorna la seva versió en majúscules, que Java guarda en una
nova posició de memòria.</p>
<p>Ara que ja tenim una part de l’expressió, Java mirarà d’avaluar l’altra.
Per fer-ho, novament ens saltarem el pas de calcular el valor de
l’argument (doncs és el literal <code class="docutils literal notranslate"><span class="pre">1</span></code>) i passarem directament a la crida:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 41%" />
<col style="width: 13%" />
<col style="width: 12%" />
<col style="width: 35%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>instrucció</p></th>
<th class="head" colspan="2"><p>noms</p></th>
<th class="head"><p>Memòria</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td rowspan="4"><p>nom.substring(1)</p></td>
<td colspan="2" rowspan="4"><p>nom → &#64;100</p></td>
<td><p>[&#64;100] &quot;macarena&quot;</p></td>
</tr>
<tr class="row-odd"><td><p>[&#64;200] 'm'</p></td>
</tr>
<tr class="row-even"><td><p>[&#64;300] 'M'</p></td>
</tr>
<tr class="row-odd"><td><p>[&#64;400] &quot;acarena&quot;</p></td>
</tr>
</tbody>
</table>
<p>La funció <code class="docutils literal notranslate"><span class="pre">substring</span></code> considera el valor de la posició de memòria
apuntada per <code class="docutils literal notranslate"><span class="pre">nom</span></code> i composa un nou String amb tots els caràcters de
text a partir de la posició 1 (inclosa).</p>
<p>El següent pas és la concatenació dels dos valors calculats:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 41%" />
<col style="width: 13%" />
<col style="width: 12%" />
<col style="width: 35%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>instrucció</p></th>
<th class="head" colspan="2"><p>noms</p></th>
<th class="head"><p>Memòria</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td rowspan="5"><p>&#64;300 + &#64;400</p></td>
<td colspan="2" rowspan="5"><p>nom → &#64;100</p></td>
<td><p>[&#64;100] &quot;macarena&quot;</p></td>
</tr>
<tr class="row-odd"><td><p>[&#64;200] 'm'</p></td>
</tr>
<tr class="row-even"><td><p>[&#64;300] 'M'</p></td>
</tr>
<tr class="row-odd"><td><p>[&#64;400] &quot;acarena&quot;</p></td>
</tr>
<tr class="row-even"><td><p>[&#64;500] &quot;Macarena&quot;</p></td>
</tr>
</tbody>
</table>
<p>Tot i que queda amagat, el signe <code class="docutils literal notranslate"><span class="pre">+</span></code> és en realitat una funció de
String, en concret <a class="reference external" href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html#concat(java.lang.String)">concat()</a>.
En tot cas, el resultat és un nou String.</p>
<p>Finalment, toca fer la part de l’assignació:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 41%" />
<col style="width: 13%" />
<col style="width: 12%" />
<col style="width: 35%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>instrucció</p></th>
<th class="head" colspan="2"><p>noms</p></th>
<th class="head"><p>Memòria</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td rowspan="5"><p>nom = &#64;500</p></td>
<td colspan="2" rowspan="5"><p>nom → &#64;500</p></td>
<td><p>[&#64;100] &quot;macarena&quot;</p></td>
</tr>
<tr class="row-odd"><td><p>[&#64;200] 'm'</p></td>
</tr>
<tr class="row-even"><td><p>[&#64;300] 'M'</p></td>
</tr>
<tr class="row-odd"><td><p>[&#64;400] &quot;acarena&quot;</p></td>
</tr>
<tr class="row-even"><td><p>[&#64;500] &quot;Macarena&quot;</p></td>
</tr>
</tbody>
</table>
<p>Fixa’t que ara <code class="docutils literal notranslate"><span class="pre">nom</span></code> ha deixat d’apuntar a <em>&#64;100</em> i apunta a una nova
posició de memòria que conté la versió del nom amb la inicial en
majúscules.</p>
<p>Ara, si fem un <code class="docutils literal notranslate"><span class="pre">System.out.println(nom);</span></code> el que ens mostrarà serà
<code class="docutils literal notranslate"><span class="pre">&quot;Macarena&quot;</span></code> amb <em>M</em> majúscules.</p>
<p>El més important que vegis en aquesta secció concreta és que el valor
original <code class="docutils literal notranslate"><span class="pre">&quot;macarena&quot;</span></code> no ha estat modificat en cap moment. De fet,
continua guardat a la posició <em>&#64;100</em> fins que Java decideixi que ja no és
necessari.</p>
<div class="section" id="mutabilitat-dels-arrays">
<h3>Mutabilitat dels arrays<a class="headerlink" href="#mutabilitat-dels-arrays" title="Link permanent a aquest títol">¶</a></h3>
<p>Serà similar amb els arrays?</p>
<p>Anem a veure-ho tot seguint la manera en que hem analitzat les dues
instruccions amb Strings.</p>
<p>Posa-hi atenció doncs hi apareixeran funcions que no has vist encara en
aquests apunts. No pateixis que te les explicaré.</p>
<div class="highlight-java notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span></span>    <span class="n">String</span> <span class="n">nom</span> <span class="o">=</span> <span class="s">&quot;macarena&quot;</span><span class="p">;</span>
    <span class="kt">char</span><span class="o">[]</span> <span class="n">nomEnCaracters</span> <span class="o">=</span> <span class="n">nom</span><span class="p">.</span><span class="na">toCharArray</span><span class="p">();</span>
    <span class="n">nomEnCaracters</span><span class="o">[</span><span class="mi">0</span><span class="o">]</span> <span class="o">=</span> <span class="n">Character</span><span class="p">.</span><span class="na">toUpperCase</span><span class="p">(</span><span class="n">nomEnCaracters</span><span class="o">[</span><span class="mi">0</span><span class="o">]</span><span class="p">);</span>
    <span class="n">nom</span> <span class="o">=</span> <span class="k">new</span> <span class="n">String</span><span class="p">(</span><span class="n">nomEnCaracters</span><span class="p">);</span>
</pre></div>
</td></tr></table></div>
<p>El codi anterior té el mateix resultat que el codi que hem analitzat a la
secció <cite>Immutabilitat dels Strings</cite>, però ho fa d’una manera diferent.
Anem a pams:</p>
<p>La primera línia és la mateixa: declarem una variable anomenada <code class="docutils literal notranslate"><span class="pre">nom</span></code> i
li assignem un literal.</p>
<p>La representació del sistema fins el moment podria ser:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 41%" />
<col style="width: 13%" />
<col style="width: 12%" />
<col style="width: 35%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>instrucció</p></th>
<th class="head" colspan="2"><p>noms</p></th>
<th class="head"><p>Memòria</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>nom = &#64;100</p></td>
<td colspan="2"><p>nom → &#64;100</p></td>
<td><p>[&#64;100] &quot;macarena&quot;</p></td>
</tr>
</tbody>
</table>
<p>A continuació declarem un array de <code class="docutils literal notranslate"><span class="pre">char</span></code> anomenat <code class="docutils literal notranslate"><span class="pre">nomEnCaracters</span></code></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 38%" />
<col style="width: 12%" />
<col style="width: 18%" />
<col style="width: 32%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>instrucció</p></th>
<th class="head" colspan="2"><p>noms</p></th>
<th class="head"><p>Memòria</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td rowspan="2"><p>char[] nomEnCaracters</p></td>
<td colspan="2"><p>nom → &#64;100</p></td>
<td rowspan="2"><p>[&#64;100] &quot;macarena&quot;</p></td>
</tr>
<tr class="row-odd"><td colspan="2"><p>nomEnCaracters → ?</p></td>
</tr>
</tbody>
</table>
<p>Com que encara no hem creat cap array, no tenim cap valor per
<code class="docutils literal notranslate"><span class="pre">nomEnCaracters</span></code>. Cap problema.</p>
<p>La següent part de la instrucció, l’assignació, requereix avaluar
l’expressió que apareix després del <code class="docutils literal notranslate"><span class="pre">=</span></code>. Es tracta de la crida a una
funció que encara no coneixíem (<code class="docutils literal notranslate"><span class="pre">toCharArray()</span></code>) Aquesta funció, a
partir del String apuntat per <code class="docutils literal notranslate"><span class="pre">nom</span></code> construeix un array de <code class="docutils literal notranslate"><span class="pre">char</span></code> i el
retorna.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 22%" />
<col style="width: 18%" />
<col style="width: 61%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>instrucció</p></th>
<th class="head"><p>noms</p></th>
<th class="head"><p>Memòria</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td rowspan="2"><p>nom.toCharArray()</p></td>
<td><p>nom → &#64;100</p></td>
<td><p>[&#64;100] &quot;macarena&quot;</p></td>
</tr>
<tr class="row-odd"><td><p>nomEnCaracters → ?</p></td>
<td><p>[&#64;200] {'m', 'a', 'c', 'a', 'r', 'e', 'n', 'a'}</p></td>
</tr>
</tbody>
</table>
<p>Fixa’t que he representat l’array de caràcters entre claus <code class="docutils literal notranslate"><span class="pre">{}</span></code>. És una
notació força comú. Fins i tot, si li demanes a JShell et retornarà quelcom
molt similar.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">jshell&gt; &quot;macarena&quot;.toCharArray()</span>
<span class="gp">$</span><span class="nv">1</span> <span class="o">==</span>&gt; char<span class="o">[</span><span class="m">8</span><span class="o">]</span> <span class="o">{</span> <span class="s1">&#39;m&#39;</span>, <span class="s1">&#39;a&#39;</span>, <span class="s1">&#39;c&#39;</span>, <span class="s1">&#39;a&#39;</span>, <span class="s1">&#39;r&#39;</span>, <span class="s1">&#39;e&#39;</span>, <span class="s1">&#39;n&#39;</span>, <span class="s1">&#39;a&#39;</span> <span class="o">}</span>
</pre></div>
</div>
<p>El següent pas és completar l’assignació:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 22%" />
<col style="width: 18%" />
<col style="width: 61%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>instrucció</p></th>
<th class="head"><p>noms</p></th>
<th class="head"><p>Memòria</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td rowspan="2"><p>nomEnCaracters = &#64;200</p></td>
<td><p>nom → &#64;100</p></td>
<td><p>[&#64;100] &quot;macarena&quot;</p></td>
</tr>
<tr class="row-odd"><td><p>nomEnCaracters → &#64;200</p></td>
<td><p>[&#64;200] {'m', 'a', 'c', 'a', 'r', 'e', 'n', 'a'}</p></td>
</tr>
</tbody>
</table>
<p>Passem ara a executar la línia 3</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="n">nomEnCaracters</span><span class="o">[</span><span class="mi">0</span><span class="o">]</span> <span class="o">=</span> <span class="n">Character</span><span class="p">.</span><span class="na">toUpperCase</span><span class="p">(</span><span class="n">nomEnCaracters</span><span class="o">[</span><span class="mi">0</span><span class="o">]</span><span class="p">);</span>
</pre></div>
</div>
<p>Aquesta línia és també una assignació. Per tant, resoldrem primer la part de l’expressió.</p>
<p>En primer lloc, necessitem aconseguir el valor a passar-li a la funció
<code class="docutils literal notranslate"><span class="pre">Character.toUpperCase()</span></code>. Aquest valor s’aconsegueix a partir de l’expressió
<code class="docutils literal notranslate"><span class="pre">nomEnCaracters[0]</span></code>.</p>
<p>Donat que <code class="docutils literal notranslate"><span class="pre">nomEnCaracters</span></code> es troba en la posició <em>&#64;200</em>, el primer
caràcter (començant pel 0) es trobaria directament en aquesta posició,
mentre que el segon caràcter es trobaria en la posició <em>&#64;200 + 1</em>, el
tercer en la <em>&#64;200 + 2</em>, i així<a class="footnote-reference brackets" href="#midatipus" id="id1">1</a>.</p>
<p>Veus ara perquè ens agrada tant començar a comptar pel zero?</p>
<p>Així, el valor que li passem a <code class="docutils literal notranslate"><span class="pre">Character.toUpperCase()</span></code> és el que es
troba a la posició <em>&#64;200 + 0</em>, en concret <code class="docutils literal notranslate"><span class="pre">'m'</span></code>.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 24%" />
<col style="width: 17%" />
<col style="width: 59%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>instrucció</p></th>
<th class="head"><p>noms</p></th>
<th class="head"><p>Memòria</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td rowspan="3"><p>Character.toUpperCase('m')</p></td>
<td><p>nom → &#64;100</p></td>
<td><p>[&#64;100] &quot;macarena&quot;</p></td>
</tr>
<tr class="row-odd"><td rowspan="2"><p>nomEnCaracters → &#64;200</p></td>
<td><p>[&#64;200] {'m', 'a', 'c', 'a', 'r', 'e', 'n', 'a'}</p></td>
</tr>
<tr class="row-even"><td><p>[&#64;300] 'M'</p></td>
</tr>
</tbody>
</table>
<p>Un cop <code class="docutils literal notranslate"><span class="pre">toUpperCase()</span></code> ha fet la seva feina, toca fer l’assignació.</p>
<p>Per trobar l’adreça de memòria on s’ha de col·locar aquesta <code class="docutils literal notranslate"><span class="pre">'M'</span></code>, Java
fa el mateix procés que per obtenir el valor: troba l’adreça de
<code class="docutils literal notranslate"><span class="pre">nomEnCaracters</span></code> i li suma la posició entre claudàtors, en aquest cas
novament, 0.</p>
<p>D’aquesta manera, la instrucció <code class="docutils literal notranslate"><span class="pre">nomEnCaracters[0]</span> <span class="pre">=</span> <span class="pre">'M'</span></code> la podem veure
com <em>assigna o copia el valor del caràcter de la posició &#64;300 a la posició &#64;200</em>.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 24%" />
<col style="width: 17%" />
<col style="width: 59%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>instrucció</p></th>
<th class="head"><p>noms</p></th>
<th class="head"><p>Memòria</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td rowspan="3"><p>&#64;200 = 'M'</p></td>
<td><p>nom → &#64;100</p></td>
<td><p>[&#64;100] &quot;macarena&quot;</p></td>
</tr>
<tr class="row-odd"><td rowspan="2"><p>nomEnCaracters → &#64;200</p></td>
<td><p>[&#64;200] {'M', 'a', 'c', 'a', 'r', 'e', 'n', 'a'}</p></td>
</tr>
<tr class="row-even"><td><p>[&#64;300] 'M'</p></td>
</tr>
</tbody>
</table>
<p>Fixa’t que la representació anterior ha canviat el valor del primer
caràcter de l’array al que apunta <code class="docutils literal notranslate"><span class="pre">nomEnCaracters</span></code></p>
<p>Ara ja podem passar a executar la darrera línia del fragment de codi:</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="n">nom</span> <span class="o">=</span> <span class="k">new</span> <span class="n">String</span><span class="p">(</span><span class="n">nomEnCaracters</span><span class="p">);</span>
</pre></div>
</div>
<p>Aquesta línia crida és una mica espacial i no entrarem en detalls en
aquest moment del curs. En tot cas, el que fa es pot llegir com
<em>construeix un String a partir dels caràcters continguts a l’array
apuntat per nomEnCaracters i assigna el resultat a la variable nom</em></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 24%" />
<col style="width: 17%" />
<col style="width: 59%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>instrucció</p></th>
<th class="head"><p>noms</p></th>
<th class="head"><p>Memòria</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td rowspan="4"><p>new String(&#64;200)</p></td>
<td><p>nom → &#64;100</p></td>
<td><p>[&#64;100] &quot;macarena&quot;</p></td>
</tr>
<tr class="row-odd"><td rowspan="3"><p>nomEnCaracters → &#64;200</p></td>
<td><p>[&#64;200] {'M', 'a', 'c', 'a', 'r', 'e', 'n', 'a'}</p></td>
</tr>
<tr class="row-even"><td><p>[&#64;300] 'M'</p></td>
</tr>
<tr class="row-odd"><td><p>[&#64;400] &quot;Macarena&quot;</p></td>
</tr>
</tbody>
</table>
<p>Finalment, assigna el nou String a <code class="docutils literal notranslate"><span class="pre">nom</span></code></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 24%" />
<col style="width: 17%" />
<col style="width: 59%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>instrucció</p></th>
<th class="head"><p>noms</p></th>
<th class="head"><p>Memòria</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td rowspan="4"><p>nom = &#64;400</p></td>
<td><p>nom → &#64;400</p></td>
<td><p>[&#64;100] &quot;macarena&quot;</p></td>
</tr>
<tr class="row-odd"><td rowspan="3"><p>nomEnCaracters → &#64;200</p></td>
<td><p>[&#64;200] {'M', 'a', 'c', 'a', 'r', 'e', 'n', 'a'}</p></td>
</tr>
<tr class="row-even"><td><p>[&#64;300] 'M'</p></td>
</tr>
<tr class="row-odd"><td><p>[&#64;400] &quot;Macarena&quot;</p></td>
</tr>
</tbody>
</table>
<p>Així ens queda una situació similar a la versió de concatenació de String.</p>
<p>El que importa aquí és que siguis conscient de que l’array emmagatzemat a
la posició <em>&#64;200</em> des del moment en que va ser creat <strong>sí</strong> veu modificat
el seu valor original, cosa que no passa amb els valors dels altres tipus
de dades.</p>
</div>
</div>
<div class="section" id="arrays-i-moduls">
<h2>Arrays i mòduls<a class="headerlink" href="#arrays-i-moduls" title="Link permanent a aquest títol">¶</a></h2>
<p>Quan fem servir dades mutables amb mòduls, les possibilitats de fer les
funcions impures s’amplien.</p>
<p>Fins ara hem vist que una funció pot ser impura per fer entrada/sortida o
per modificar una variable global. Ara que tenim dades mutables també ho
pot ser per modificar un dels seus paràmetres!</p>
<p>Considera que tenim la següent funció:</p>
<div class="highlight-java notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/* posa en majúscules la lletra a una determinada posició</span>
<span class="cm"> * Finalment retorna true quan s&#39;ha fet algun canvi.</span>
<span class="cm"> * */</span>
<span class="kd">public</span> <span class="kd">static</span> <span class="kt">boolean</span> <span class="nf">majusculitza</span><span class="p">(</span><span class="kt">char</span><span class="o">[]</span> <span class="n">lletres</span><span class="p">,</span> <span class="kt">int</span> <span class="n">posicio</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">posicio</span> <span class="o">&lt;</span> <span class="mi">0</span> <span class="o">||</span> <span class="n">posicio</span> <span class="o">&gt;</span> <span class="n">lletres</span><span class="p">.</span><span class="na">length</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="kc">false</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="kt">char</span> <span class="n">original</span> <span class="o">=</span> <span class="n">lletres</span><span class="o">[</span><span class="n">posicio</span><span class="o">]</span><span class="p">;</span>
    <span class="n">lletres</span><span class="o">[</span><span class="n">posicio</span><span class="o">]</span> <span class="o">=</span> <span class="n">Character</span><span class="p">.</span><span class="na">toUpperCase</span><span class="p">(</span><span class="n">original</span><span class="p">);</span>
    <span class="k">return</span> <span class="n">original</span> <span class="o">!=</span> <span class="n">lletres</span><span class="o">[</span><span class="n">posicio</span><span class="o">]</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</td></tr></table></div>
<p>Ara considera el següent fragment de codi:</p>
<div class="highlight-java notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="n">String</span> <span class="n">nom</span> <span class="o">=</span> <span class="s">&quot;macarena&quot;</span><span class="p">;</span>
<span class="kt">char</span><span class="o">[]</span> <span class="n">nomEnCaracters</span> <span class="o">=</span> <span class="n">nom</span><span class="p">.</span><span class="na">toCharArray</span><span class="p">();</span>
<span class="k">if</span> <span class="p">(</span><span class="n">majusculitza</span><span class="p">(</span><span class="n">nomEnCaracters</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span> <span class="p">{</span>
    <span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;Posat en majúscules&quot;</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</td></tr></table></div>
<p>Comencem el nostre anàlisi pas per pas. Ara que ja tenim una mica de
traça, deixa’m que em salti algunes passes i ens posem tot just abans de
la línia 3 on hem de fer la condició.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 22%" />
<col style="width: 18%" />
<col style="width: 61%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>instrucció</p></th>
<th class="head"><p>noms</p></th>
<th class="head"><p>Memòria</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td rowspan="2"><p>nom.toCharArray()</p></td>
<td><p>nom → &#64;100</p></td>
<td><p>[&#64;100] &quot;macarena&quot;</p></td>
</tr>
<tr class="row-odd"><td><p>nomEnCaracters → &#64;200</p></td>
<td><p>[&#64;200] {'m', 'a', 'c', 'a', 'r', 'e', 'n', 'a'}</p></td>
</tr>
</tbody>
</table>
<p>Per poder resoldre el condicional, Java ha d’avaluar la condició primer.
Això implica resoldre els arguments de la crida que són força immediats
doncs tenim <code class="docutils literal notranslate"><span class="pre">nomEnCaracters</span></code> que apunta a la posició <em>&#64;200</em> i el literal
0.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 23%" />
<col style="width: 23%" />
<col style="width: 54%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>instrucció</p></th>
<th class="head"><p>noms</p></th>
<th class="head"><p>Memòria</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td rowspan="4"><p>majusculitza(&#64;200, 0)</p>
<p>↓</p>
<p>majusculitza.lletres = &#64;200</p>
<p>majusculitza.posicio = 0</p>
</td>
<td><p>nom → &#64;100</p></td>
<td><p>[&#64;100] &quot;macarena&quot;</p></td>
</tr>
<tr class="row-odd"><td><p>nomEnCaracters → &#64;200</p></td>
<td rowspan="3"><p>[&#64;200] {'m', 'a', 'c', 'a', 'r', 'e', 'n', 'a'}</p></td>
</tr>
<tr class="row-even"><td><p>majusculitza.lletres → &#64;200</p></td>
</tr>
<tr class="row-odd"><td><p>majusculitza.posicio = 0</p></td>
</tr>
</tbody>
</table>
<p>Te n’adonaràs que estic prefixant els noms de les variables/paràmetres de
la funció <code class="docutils literal notranslate"><span class="pre">majusculitza()</span></code> amb el nom de la funció. Així podrem
distingir en quin context tenen sentit aquests noms.</p>
<p>Com que <code class="docutils literal notranslate"><span class="pre">posicio</span></code> és d’un tipus primitiu, el valor és directament el 0 i
no una posició que conté el 0.</p>
<p>Un cop iniciada la crida i assignat els arguments als paràmetres, comencem
a executar el codi de la funció.</p>
<p>El primer condicional l’obviarem doncs només comprovarà que <code class="docutils literal notranslate"><span class="pre">posicio</span></code> no
es passa de rang i no és important per l’objectiu d’aquesta anàlisi.</p>
<p>La que sí ens interessa ja és <code class="docutils literal notranslate"><span class="pre">char</span> <span class="pre">original</span> <span class="pre">=</span> <span class="pre">lletres[posició]</span></code> que
guardarà el caràcter <code class="docutils literal notranslate"><span class="pre">'m'</span></code> associat a la nova variable directament (és
un tipus primitiu!)</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 23%" />
<col style="width: 23%" />
<col style="width: 54%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>instrucció</p></th>
<th class="head"><p>noms</p></th>
<th class="head"><p>Memòria</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td rowspan="5"><p>char original = &#64;200</p></td>
<td><p>nom → &#64;100</p></td>
<td><p>[&#64;100] &quot;macarena&quot;</p></td>
</tr>
<tr class="row-odd"><td><p>nomEnCaracters → &#64;200</p></td>
<td rowspan="4"><p>[&#64;200] {'m', 'a', 'c', 'a', 'r', 'e', 'n', 'a'}</p></td>
</tr>
<tr class="row-even"><td><p>majusculitza.lletres → &#64;200</p></td>
</tr>
<tr class="row-odd"><td><p>majusculitza.posicio = 0</p></td>
</tr>
<tr class="row-even"><td><p>majusculitza.original = 'm'</p></td>
</tr>
</tbody>
</table>
<p>Un cop completada la primera línia del cos de la funció
<code class="docutils literal notranslate"><span class="pre">majusculitza()</span></code>, Java anirà per la segona:</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="n">lletres</span><span class="o">[</span><span class="n">posicio</span><span class="o">]</span> <span class="o">=</span> <span class="n">Character</span><span class="p">.</span><span class="na">toUpperCase</span><span class="p">(</span><span class="n">original</span><span class="p">);</span>
</pre></div>
</div>
<p>El primer que farà serà resoldre l’expressió després de <code class="docutils literal notranslate"><span class="pre">=</span></code> per poder
obtenir el valor a assignar.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 23%" />
<col style="width: 23%" />
<col style="width: 54%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>instrucció</p></th>
<th class="head"><p>noms</p></th>
<th class="head"><p>Memòria</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td rowspan="5"><p>Character.toUpperCase('m')</p></td>
<td><p>nom → &#64;100</p></td>
<td><p>[&#64;100] &quot;macarena&quot;</p></td>
</tr>
<tr class="row-odd"><td><p>nomEnCaracters → &#64;200</p></td>
<td><p>[&#64;200] {'m', 'a', 'c', 'a', 'r', 'e', 'n', 'a'}</p></td>
</tr>
<tr class="row-even"><td><p>majusculitza.lletres → &#64;200</p></td>
<td rowspan="3"><p>[&#64;300] 'M'</p></td>
</tr>
<tr class="row-odd"><td><p>majusculitza.posicio = 0</p></td>
</tr>
<tr class="row-even"><td><p>majusculitza.original = 'm'</p></td>
</tr>
</tbody>
</table>
<p>Un cop obtingut el valor, es produeix l’assignació. Donat que <code class="docutils literal notranslate"><span class="pre">lletres</span></code>
apunta a <em>&#64;200</em> i <code class="docutils literal notranslate"><span class="pre">posicio</span></code> val 0, l’assignació es produirà al caràcter
situat a l’adreça <em>&#64;200</em></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 23%" />
<col style="width: 23%" />
<col style="width: 54%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>instrucció</p></th>
<th class="head"><p>noms</p></th>
<th class="head"><p>Memòria</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td rowspan="5"><p>&#64;200 = 'M'</p></td>
<td><p>nom → &#64;100</p></td>
<td><p>[&#64;100] &quot;macarena&quot;</p></td>
</tr>
<tr class="row-odd"><td><p>nomEnCaracters → &#64;200</p></td>
<td><p>[&#64;200] {'M', 'a', 'c', 'a', 'r', 'e', 'n', 'a'}</p></td>
</tr>
<tr class="row-even"><td><p>majusculitza.lletres → &#64;200</p></td>
<td rowspan="3"><p>[&#64;300] 'M'</p></td>
</tr>
<tr class="row-odd"><td><p>majusculitza.posicio = 0</p></td>
</tr>
<tr class="row-even"><td><p>majusculitza.original = 'm'</p></td>
</tr>
</tbody>
</table>
<p>Un cop finalitzada aquesta línia, Java executarà la darrera de
<code class="docutils literal notranslate"><span class="pre">majusculitza()</span></code> que se n’encarrega de retornar el valor resultant d’una
expressió booleana.</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="k">return</span> <span class="n">original</span> <span class="o">!=</span> <span class="n">lletres</span><span class="o">[</span><span class="n">posicio</span><span class="o">]</span><span class="p">;</span>
</pre></div>
</div>
<p>En primer lloc, avaluarà l’expressió, que resultarà en <em>true</em></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 23%" />
<col style="width: 23%" />
<col style="width: 54%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>instrucció</p></th>
<th class="head"><p>noms</p></th>
<th class="head"><p>Memòria</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td rowspan="5"><p>original != lletres[posicio]</p>
<p>↓</p>
<p>'m' != 'M'</p>
</td>
<td><p>nom → &#64;100</p></td>
<td><p>[&#64;100] &quot;macarena&quot;</p></td>
</tr>
<tr class="row-odd"><td><p>nomEnCaracters → &#64;200</p></td>
<td><p>[&#64;200] {'M', 'a', 'c', 'a', 'r', 'e', 'n', 'a'}</p></td>
</tr>
<tr class="row-even"><td><p>majusculitza.lletres → &#64;200</p></td>
<td><p>[&#64;300] 'M'</p></td>
</tr>
<tr class="row-odd"><td><p>majusculitza.posicio = 0</p></td>
<td rowspan="2"><p>[&#64;400] true</p></td>
</tr>
<tr class="row-even"><td><p>majusculitza.original = 'm'</p></td>
</tr>
</tbody>
</table>
<p>Finalment realitzarà el <code class="docutils literal notranslate"><span class="pre">return</span></code> que podem entendre com la resolució de la
condició del <code class="docutils literal notranslate"><span class="pre">if</span></code> en el fragment de codi que va cridar la funció
<code class="docutils literal notranslate"><span class="pre">majusculitza()</span></code></p>
<p>Així, ara tornem de la crida a <code class="docutils literal notranslate"><span class="pre">majusculitza()</span></code> i el resultat equival a
executar <code class="docutils literal notranslate"><span class="pre">if</span> <span class="pre">(true)</span></code>. La representació interna en aquest moment tindria el
següent aspecte:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 23%" />
<col style="width: 23%" />
<col style="width: 54%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>instrucció</p></th>
<th class="head"><p>noms</p></th>
<th class="head"><p>Memòria</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td rowspan="2"><p>if (true)</p></td>
<td><p>nom → &#64;100</p></td>
<td><p>[&#64;100] &quot;macarena&quot;</p></td>
</tr>
<tr class="row-odd"><td><p>nomEnCaracters → &#64;200</p></td>
<td><p>[&#64;200] {'M', 'a', 'c', 'a', 'r', 'e', 'n', 'a'}</p></td>
</tr>
</tbody>
</table>
<p>És a dir, tots els noms i espais de memòria que s’havien creat durant
l’execució de la crida a a <code class="docutils literal notranslate"><span class="pre">majusculitza()</span></code> ja no existeixen. El programa
continua com si li haguèssim posat directament un <code class="docutils literal notranslate"><span class="pre">if</span> <span class="pre">(true)</span></code> excepte per un
<strong>detall</strong>: el valor al que apunta <code class="docutils literal notranslate"><span class="pre">nomEnCaracters</span></code> ja no és exactament el
mateix que abans de la crida!</p>
<p>Això implica que la crida a <code class="docutils literal notranslate"><span class="pre">majusculitza()</span></code> ha tingut un <em>efecte col·lateral</em>. No és una funció <em>pura</em>!</p>
<p>Potser pots començar a veure que les funcions impures són una barreja entre un procediment i una funció pura, en el sentit què:</p>
<ul class="simple">
<li><p>com les funcions pures, <em>retornen</em> un valor</p></li>
<li><p>com els procediments, realitzen una acció que canvia el context del programa</p></li>
</ul>
</div>
<div class="section" id="alguns-exercicis">
<h2>Alguns exercicis<a class="headerlink" href="#alguns-exercicis" title="Link permanent a aquest títol">¶</a></h2>
<p>Practiquem el que acabem de veure amb aquests exercicis.</p>
<p><img alt="exerciseicon__T" src="_images/exerciseicon__T.png" /> <a class="reference internal" href="exercici_02_34_posiciona_figura.html"><span class="doc"> Exercici 02_34. Posiciona figura</span></a></p>
<p><img alt="exerciseicon__T" src="_images/exerciseicon__T.png" /> <a class="reference internal" href="exercici_02_35_mou_figura.html"><span class="doc"> Exercici 02_35. Mou figura</span></a></p>
<p><img alt="exerciseicon_ST" src="_images/exerciseicon_ST.png" /> <a class="reference internal" href="exercici_02_36_enroca.html"><span class="doc"> Exercici 02_36. Enrocament (versió simplificada)</span></a></p>
<hr class="docutils" />
<dl class="footnote brackets">
<dt class="label" id="midatipus"><span class="brackets"><a class="fn-backref" href="#id1">1</a></span></dt>
<dd><p>Per ser més precisos, en comptes de sumar-li l’índex, li suma l’índex
multiplicat per la mida del tipus de dades emmagatzemat per l’array, però
no ens cal arribar a aquest nivell de detall si només volem entendre el
funcionament.</p>
</dd>
</dl>
</div>
</div>


           </div>
           
          </div>
    <div class="googleanalytics">
    <div id="cookiesbox">
        Aquest lloc web utilitza galetes (<i>cookies</i>) per a analitzar el seu ús
        amb les eines que ofereix <a href="https://www.google.com/analytics">Google Analytics</a>.
        En continuar navegant-hi, estàs acceptant-ho.
        <br/>
        <a class="btn btn-neutral" onclick="setUserAcceptsCookies();">
            Tancar
            <span class="fa fa-window-close"></span>
        </a>
    </div>
    <script>setCookiesboxVisibility();</script>
    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
      ga('create', 'UA-41103782-2', 'auto');
      ga('send', 'pageview');
    </script>
</div>


          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="moduls_recursivitat.html" class="btn btn-neutral float-right" title="Recursivitat" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="arrays_taules.html" class="btn btn-neutral float-left" title="Taules" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright 2020-2021 Moisès Gómez Girón

    </p>
  </div> 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>