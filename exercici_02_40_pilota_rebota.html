

<!DOCTYPE html>
<html class="writer-html5" lang="ca" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Exercici 02_40. La pilota que rebota &mdash; Introducció a la programació amb Java 2021-22 documentació</title>
  

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/moistyle.css" type="text/css" />

  
  
  
  

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/language_data.js"></script>
        <script src="_static/translations.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    
    <link rel="author" title="Quant a aquests documents" href="about.html" />
    <link rel="index" title="Índex" href="genindex.html" />
    <link rel="search" title="Cerca" href="search.html" />
    <link rel="next" title="Exercici 02_41. Transformació de formes" href="exercici_02_41_formes.html" />
    <link rel="prev" title="Exercici 02_39. La pilota que cau" href="exercici_02_39_pilota_cau.html" />
     
    <script class="googleanalytics" src="_static/moiscripts.js"></script>

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home" alt="Documentation Home"> Introducció a la programació amb Java
          

          
            
            <img src="_static/logoprg.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <div class="version">
                Curs 2021-22
              </div>
            
          

          

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="primeres_passes.html">Primeres passes</a></li>
<li class="toctree-l1"><a class="reference internal" href="basics.html">Elements bàsics de la programació</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="moduls.html">Mòduls</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="moduls_junit.html">Una mica de bricolatge</a></li>
<li class="toctree-l2"><a class="reference internal" href="moduls_intro.html">Un primer contacte</a></li>
<li class="toctree-l2"><a class="reference internal" href="moduls_funcions.html">Funcions</a></li>
<li class="toctree-l2"><a class="reference internal" href="moduls_variables.html">Variables i mòduls</a></li>
<li class="toctree-l2"><a class="reference internal" href="arrays.html">Arrays</a></li>
<li class="toctree-l2"><a class="reference internal" href="moduls_recursivitat.html">Recursivitat</a></li>
<li class="toctree-l2"><a class="reference internal" href="moduls_conclusions.html">Conclusions</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="moduls_exercicis.html">Llista d’exercicis</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="moduls_exercicis_intro.html">Llista d’exercicis del primer contacte amb mòduls</a></li>
<li class="toctree-l3"><a class="reference internal" href="moduls_exercicis_funcions.html">Llista d’exercicis de funcions i variables</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="moduls_exercicis_arrays.html">Llista d’exercicis d’arrays</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="exercici_02_26_nota_mes_alta_v1.html"> Exercici 02_26. La nota més alta</a></li>
<li class="toctree-l4"><a class="reference internal" href="exercici_02_27_nota_mes_alta_v2.html"> Exercici 02_27. La nota més alta (no tan fàcil)</a></li>
<li class="toctree-l4"><a class="reference internal" href="exercici_02_28_nota_mes_alta_v3.html"> Exercici 02_28. La nota més alta (més difícil)</a></li>
<li class="toctree-l4"><a class="reference internal" href="exercici_02_29_nota_mes_alta_v4.html"> Exercici 02_29. La nota més alta (impossible?)</a></li>
<li class="toctree-l4"><a class="reference internal" href="exercici_02_30_enters_entre_comes_v1.html"> Exercici 02_30. Enters entre comes (v1)</a></li>
<li class="toctree-l4"><a class="reference internal" href="exercici_02_31_enters_entre_comes_v2.html"> Exercici 02_31. Enters entre comes (v2)</a></li>
<li class="toctree-l4"><a class="reference internal" href="exercici_02_32_enters_entre_comes_v3.html"> Exercici 02_32. Enters entre comes (v3)</a></li>
<li class="toctree-l4"><a class="reference internal" href="exercici_02_33_enters_entre_comes_v4.html"> Exercici 02_33. Enters entre comes (v4)</a></li>
<li class="toctree-l4"><a class="reference internal" href="exercici_02_34_arguments.html"> Exercici 02_34. Arguments del main</a></li>
<li class="toctree-l4"><a class="reference internal" href="exercici_02_35_nomes_enters.html"> Exercici 02_35. Suma només enters</a></li>
<li class="toctree-l4"><a class="reference internal" href="exercici_02_36_tresenratlla_files.html"> Exercici 02_36. El tres en ratlla per files</a></li>
<li class="toctree-l4"><a class="reference internal" href="exercici_02_37_tresenratlla_taulell.html"> Exercici 02_37. El tres en ratlla en taulell</a></li>
<li class="toctree-l4"><a class="reference internal" href="exercici_02_38_tresenratlla.html"> Exercici 02_38. El tres en ratlla</a></li>
<li class="toctree-l4"><a class="reference internal" href="exercici_02_39_pilota_cau.html"> Exercici 02_39. La pilota que cau</a></li>
<li class="toctree-l4 current"><a class="current reference internal" href="#"> Exercici 02_40. La pilota que rebota</a></li>
<li class="toctree-l4"><a class="reference internal" href="exercici_02_41_formes.html"> Exercici 02_41. Transformació de formes</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="moduls_exercicis_recursivitat.html">Llista d’exercicis de recursivitat</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="fitxers.html">Fitxers</a></li>
<li class="toctree-l1"><a class="reference internal" href="poo.html">Programació Orientada a Objectes</a></li>
<li class="toctree-l1"><a class="reference internal" href="bib.html">Biblioteques</a></li>
<li class="toctree-l1"><a class="reference internal" href="cvs.html">Control de versions</a></li>
<li class="toctree-l1"><a class="reference internal" href="test.html">Validació d’aplicacions</a></li>
<li class="toctree-l1"><a class="reference internal" href="bd.html">Persistència amb bases de dades</a></li>
<li class="toctree-l1"><a class="reference internal" href="apendix.html">Apèndix</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Introducció a la programació amb Java</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="moduls.html">Mòduls</a> &raquo;</li>
        
          <li><a href="moduls_exercicis.html">Llista d’exercicis</a> &raquo;</li>
        
          <li><a href="moduls_exercicis_arrays.html">Llista d’exercicis d’arrays</a> &raquo;</li>
        
      <li> Exercici 02_40. La pilota que rebota</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
    
           <div itemprop="articleBody">
            
  <div class="section" id="exerciseicon-st-exercici-02-40-la-pilota-que-rebota">
<h1><img alt="exerciseicon_ST" src="_images/exerciseicon_ST.png" /> Exercici 02_40. La pilota que rebota<a class="headerlink" href="#exerciseicon-st-exercici-02-40-la-pilota-que-rebota" title="Link permanent a aquest títol">¶</a></h1>
<p class="rubric">Context</p>
<ul class="simple">
<li><p>Carpeta de lliurament: <code class="docutils literal notranslate"><span class="pre">02_40_pilota_rebota/</span></code></p></li>
<li><p>Continguts relacionats: <a class="reference internal" href="arrays_mutabilitat.html"><span class="doc">Mutabilitat</span></a></p></li>
<li><p>Com lliurar-lo: <a class="reference internal" href="com_lliurar.html#instruccions-git"><span class="std std-ref">instruccions</span></a></p></li>
<li><p>[☆] Exercici amb <a class="reference internal" href="sobre_exercicis.html#descripcio-exercicis-dificils"><span class="std std-ref">dificultat addicional</span></a></p></li>
<li><p>[✓] Exercici amb <a class="reference internal" href="sobre_exercicis.html#descripcio-exercicis-autoavaluacio"><span class="std std-ref">autoavaluació</span></a></p></li>
</ul>
<p class="rubric">Enunciat</p>
<p>Ha arribat el moment de la tan esperada actualització del <a class="reference internal" href="exercici_02_39_pilota_cau.html"><span class="doc">joc de la
pilota</span></a>.</p>
<p>Aquesta nova versió podrà rebotar si es troba un objecte en la seva
trajectòria.</p>
<p>Inicialment la pilota semblarà que es comporta com a la versió anterior.</p>
<p>La diferència apareix quan arriba a la darrera fila. En aquesta versió, en comptes
de tornar a la primera, rebota! És a dir, passa a la fila anterior i
canvia el sentit del moviment.</p>
<p>Veiem l’aspecte final de l’execució:</p>
<a class="reference internal image-reference" href="_images/pilota_rebota.gif"><img alt="_images/pilota_rebota.gif" class="align-center" src="_images/pilota_rebota.gif" style="width: 256px;" /></a>
<p>Com pots veure, cada cop que toca una cantonada, rebota.</p>
<p>Per poder realitzar aquesta actualització, ens trobem en la necessitat de
guardar no només la posició (fila i columna) sinó també l’increment (de
fila i columna)</p>
<p>Inicialment l’increment és de 1 fila i 1 columna.</p>
<p>Així, quan estem en la primera posició (0, 0), la següent posició passa a
ser (0 + 1, 0 + 1).</p>
<p>En el moment en que la
pilota arriba a la darrera fila, l’increment de fila passa a ser negatiu.</p>
<p>És a dir, suposant que la darrera fila és la <code class="docutils literal notranslate"><span class="pre">8</span></code>, en arribar tindrem la
posició (8, 8). La següent posició hauria de ser la (9, 9) però ja surt
del camp. Així que voldrem la (7, 9).  Com que ara l’increment de les
files serà negatiu, després de (7, 9) tocarà (6, 10)</p>
<p>Et recomano que et facis uns quants dibuixos per sentir que acabes
d’entendre com va.</p>
<div class="section" id="la-insuportable-immutabilitat-del-int">
<h2>La insuportable immutabilitat del <code class="docutils literal notranslate"><span class="pre">int</span></code><a class="headerlink" href="#la-insuportable-immutabilitat-del-int" title="Link permanent a aquest títol">¶</a></h2>
<p>En la <a class="reference internal" href="exercici_02_39_pilota_cau.html"><span class="doc">versió anterior del joc</span></a>, resolíem
el càlcul de la següent posició amb les funcions pures <code class="docutils literal notranslate"><span class="pre">seguentFila()</span></code> i
<code class="docutils literal notranslate"><span class="pre">seguentCol()</span></code> però ara ja no és tan fàcil.</p>
<p>Ara la següent posició depen del sentit del moviment. Això és la part
fàcil ja que el sentit del moviment l’estem codificant amb el concepte
d’increment. Quan l’increment és positiu, la pilota es mou cap a
files/columnes més grans (a baix/a la dreta) i quan és negatiu, es
desplaça cap a dalt/ a l’esquerra.</p>
<p>La part més difícil d’aquest punt està en que ara ens cal també saber si
cal canviar aquest sentit del moviment perquè la pilota ha arribat a un
dels límits (parets)</p>
<p>El que ens interessaria tenir és un mòdul <code class="docutils literal notranslate"><span class="pre">seguentPosicio(int</span> <span class="pre">fila,</span> <span class="pre">int</span>
<span class="pre">col,</span> <span class="pre">int</span> <span class="pre">incrementFila,</span> <span class="pre">int</span> <span class="pre">incrementColumna)</span></code> que en ser cridat
modifiqués els paràmetres convenientment. Malauradament, Java no ens
permet crear mòduls que modifiquin paràmetres enters. Enters no, però
arrays…</p>
<p>Per solucionar aquest problema crearem dos arrays nous:</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kt">int</span><span class="o">[]</span> <span class="n">posicio</span> <span class="o">=</span> <span class="k">new</span> <span class="kt">int</span><span class="o">[</span><span class="mi">2</span><span class="o">]</span><span class="p">;</span>    <span class="c1">// fila, columna</span>
<span class="kt">int</span><span class="o">[]</span> <span class="n">increment</span> <span class="o">=</span> <span class="k">new</span> <span class="kt">int</span><span class="o">[</span><span class="mi">2</span><span class="o">]</span><span class="p">;</span>  <span class="c1">// increment de la fila, increment de la columna</span>
</pre></div>
</div>
<p>D’aquesta manera podem definir el procediment <code class="docutils literal notranslate"><span class="pre">seguentPosicio(int[]</span>
<span class="pre">posicio,</span> <span class="pre">int[]</span> <span class="pre">increment)</span></code> que realitzarà els canvis pertinents allà on
toqui.</p>
<p>Com que no volem estar preocupant-nos de si era el <code class="docutils literal notranslate"><span class="pre">0</span></code> o el <code class="docutils literal notranslate"><span class="pre">1</span></code> cada
cop que vulguem extreure la fila o la columna de <code class="docutils literal notranslate"><span class="pre">posicio</span></code>, crearem uns
quants mòduls auxiliars. Seran molt fàcils de construir i deixaran el
nostre codi molt més fàcil d’entendre:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">int</span> <span class="pre">obteFila(int[]</span> <span class="pre">posicio)</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">int</span> <span class="pre">obteCol(int[]</span> <span class="pre">posicio)</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">int</span> <span class="pre">obteIncrFila(int[]</span> <span class="pre">increment)</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">int</span> <span class="pre">obteIncrCol(int[]</span> <span class="pre">increment)</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">canviaPosicio(int[]</span> <span class="pre">posicio,</span> <span class="pre">int</span> <span class="pre">novaFila,</span> <span class="pre">int</span> <span class="pre">novaCol)</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">canviaIncrement(int[]</span> <span class="pre">increment,</span> <span class="pre">int</span> <span class="pre">nouIncFila,</span> <span class="pre">int</span> <span class="pre">nouIncCol)</span></code></p></li>
</ul>
<p>Confio en que els noms siguin prou descriptius per entendre la intenció
d’aquests mòduls.</p>
</div>
<div class="section" id="que-haig-de-fer">
<h2>Què haig de fer?<a class="headerlink" href="#que-haig-de-fer" title="Link permanent a aquest títol">¶</a></h2>
<p>Et toca fer els canvis necessaris perquè la següent plantilla respongui al
recorregut de la pilota.</p>
<div class="highlight-java notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span>
<span class="normal">59</span>
<span class="normal">60</span>
<span class="normal">61</span>
<span class="normal">62</span>
<span class="normal">63</span>
<span class="normal">64</span>
<span class="normal">65</span>
<span class="normal">66</span>
<span class="normal">67</span>
<span class="normal">68</span>
<span class="normal">69</span>
<span class="normal">70</span>
<span class="normal">71</span>
<span class="normal">72</span>
<span class="normal">73</span>
<span class="normal">74</span>
<span class="normal">75</span>
<span class="normal">76</span>
<span class="normal">77</span>
<span class="normal">78</span>
<span class="normal">79</span>
<span class="normal">80</span>
<span class="normal">81</span>
<span class="normal">82</span>
<span class="normal">83</span>
<span class="normal">84</span>
<span class="normal">85</span>
<span class="normal">86</span>
<span class="normal">87</span>
<span class="normal">88</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/* XXX */</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Pilota</span> <span class="p">{</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kd">final</span> <span class="kt">int</span> <span class="n">N_FILES</span> <span class="o">=</span> <span class="mi">9</span><span class="p">;</span>  <span class="c1">// mínim 5 per passar els tests</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kd">final</span> <span class="kt">int</span> <span class="n">N_COLS</span> <span class="o">=</span> <span class="mi">14</span><span class="p">;</span>  <span class="c1">// mínim 5 per passar els tests</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">netejaPantalla</span><span class="p">()</span> <span class="p">{</span>
        <span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">print</span><span class="p">(</span><span class="s">&quot;\033[H\033[2J&quot;</span><span class="p">);</span>
        <span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">flush</span><span class="p">();</span>
    <span class="p">}</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">mostraCamp</span><span class="p">(</span><span class="kt">char</span><span class="o">[][]</span> <span class="n">camp</span><span class="p">)</span> <span class="p">{</span>
        <span class="cm">/* XXX */</span>
    <span class="p">}</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">netejaCamp</span><span class="p">(</span><span class="kt">char</span><span class="o">[][]</span> <span class="n">camp</span><span class="p">)</span> <span class="p">{</span>
        <span class="cm">/* XXX */</span>
    <span class="p">}</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">netejaPosicio</span><span class="p">(</span><span class="kt">char</span><span class="o">[][]</span> <span class="n">camp</span><span class="p">,</span> <span class="kt">int</span><span class="o">[]</span> <span class="n">posicio</span><span class="p">)</span> <span class="p">{</span>
        <span class="cm">/* XXX */</span>
    <span class="p">}</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">posicionaPilota</span><span class="p">(</span><span class="kt">char</span><span class="o">[][]</span> <span class="n">camp</span><span class="p">,</span> <span class="kt">int</span><span class="o">[]</span> <span class="n">posicio</span><span class="p">)</span> <span class="p">{</span>
        <span class="cm">/* XXX */</span>
    <span class="p">}</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">int</span> <span class="nf">obteFila</span><span class="p">(</span><span class="kt">int</span><span class="o">[]</span> <span class="n">posicio</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="n">posicio</span><span class="o">[</span><span class="mi">0</span><span class="o">]</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">int</span> <span class="nf">obteCol</span><span class="p">(</span><span class="kt">int</span><span class="o">[]</span> <span class="n">posicio</span><span class="p">)</span> <span class="p">{</span>
        <span class="cm">/* XXX */</span>
    <span class="p">}</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">int</span> <span class="nf">obteIncrFila</span><span class="p">(</span><span class="kt">int</span><span class="o">[]</span> <span class="n">increment</span><span class="p">)</span> <span class="p">{</span>
        <span class="cm">/* XXX */</span>
    <span class="p">}</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">int</span> <span class="nf">obteIncrCol</span><span class="p">(</span><span class="kt">int</span><span class="o">[]</span> <span class="n">increment</span><span class="p">)</span> <span class="p">{</span>
        <span class="cm">/* XXX */</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">canviaPosicio</span><span class="p">(</span><span class="kt">int</span><span class="o">[]</span> <span class="n">posicio</span><span class="p">,</span> <span class="kt">int</span> <span class="n">novaFila</span><span class="p">,</span> <span class="kt">int</span> <span class="n">novaCol</span><span class="p">)</span> <span class="p">{</span>
        <span class="cm">/* XXX */</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">canviaIncrement</span><span class="p">(</span><span class="kt">int</span><span class="o">[]</span> <span class="n">increment</span><span class="p">,</span> <span class="kt">int</span> <span class="n">nouIncFila</span><span class="p">,</span> <span class="kt">int</span> <span class="n">nouIncCol</span><span class="p">)</span> <span class="p">{</span>
        <span class="cm">/* XXX */</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">seguentPosicio</span><span class="p">(</span><span class="kt">int</span><span class="o">[]</span> <span class="n">posicio</span><span class="p">,</span> <span class="kt">int</span><span class="o">[]</span> <span class="n">increment</span><span class="p">)</span> <span class="p">{</span>
        <span class="kt">int</span> <span class="n">fila</span> <span class="o">=</span> <span class="n">obteFila</span><span class="p">(</span><span class="n">posicio</span><span class="p">);</span>
        <span class="kt">int</span> <span class="n">col</span> <span class="o">=</span> <span class="n">obteCol</span><span class="p">(</span><span class="n">posicio</span><span class="p">);</span>
        <span class="kt">int</span> <span class="n">incFila</span> <span class="o">=</span> <span class="n">obteIncrFila</span><span class="p">(</span><span class="n">increment</span><span class="p">);</span>
        <span class="kt">int</span> <span class="n">incCol</span> <span class="o">=</span> <span class="n">obteIncrCol</span><span class="p">(</span><span class="n">increment</span><span class="p">);</span>

        <span class="c1">// actualitza la fila</span>
        <span class="n">fila</span> <span class="o">+</span> <span class="n">incFila</span><span class="p">;</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">fila</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>                     <span class="c1">// es passa per sobre</span>
            <span class="n">fila</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>                       <span class="c1">// torna a la primera fila</span>
            <span class="n">incFila</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>                    <span class="c1">// toca baixar</span>
        <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">fila</span> <span class="o">&gt;</span> <span class="n">N_FILES</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span> <span class="p">{</span>     <span class="c1">// es passa per sota</span>
        <span class="cm">/* XXX */</span><span class="p">;</span>
        <span class="p">}</span>

        <span class="c1">// actualitza la columna</span>
        <span class="cm">/* XXX */</span><span class="p">;</span>

        <span class="c1">// actualitza la posició i l&#39;increment</span>
        <span class="n">canviaPosicio</span><span class="p">(</span><span class="n">posicio</span><span class="p">,</span> <span class="n">fila</span><span class="p">,</span> <span class="n">col</span><span class="p">);</span>
        <span class="n">canviaIncrement</span><span class="p">(</span><span class="n">increment</span><span class="p">,</span> <span class="n">incFila</span><span class="p">,</span> <span class="n">incCol</span><span class="p">);</span>
    <span class="p">}</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="p">)</span>  <span class="p">{</span>
        <span class="kt">char</span><span class="o">[][]</span> <span class="n">camp</span> <span class="o">=</span> <span class="k">new</span> <span class="kt">char</span><span class="o">[</span><span class="n">N_FILES</span><span class="o">][</span><span class="n">N_COLS</span><span class="o">]</span><span class="p">;</span>
        <span class="n">netejaCamp</span><span class="p">(</span><span class="n">camp</span><span class="p">);</span>

        <span class="kt">int</span><span class="o">[]</span> <span class="n">posicio</span> <span class="o">=</span> <span class="k">new</span> <span class="kt">int</span><span class="o">[</span><span class="mi">2</span><span class="o">]</span><span class="p">;</span>         <span class="c1">// fila, col</span>
        <span class="n">canviaPosicio</span><span class="p">(</span><span class="n">posicio</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>       <span class="c1">// posició inicial (0, 0)</span>

        <span class="kt">int</span><span class="o">[]</span> <span class="n">increment</span> <span class="o">=</span> <span class="k">new</span> <span class="kt">int</span><span class="o">[</span><span class="mi">2</span><span class="o">]</span><span class="p">;</span>       <span class="c1">// incFila, incCol</span>
        <span class="n">canviaIncrement</span><span class="p">(</span><span class="n">increment</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">);</span>   <span class="c1">// desplaçament inicial: 1 fila 1 columna</span>

        <span class="k">while</span> <span class="p">(</span><span class="kc">true</span><span class="p">)</span> <span class="p">{</span>
            <span class="c1">// posiciona la pilota i mostra el camp</span>
            <span class="n">posicionaPilota</span><span class="p">(</span><span class="n">camp</span><span class="p">,</span> <span class="n">posicio</span><span class="p">);</span>
            <span class="n">netejaPantalla</span><span class="p">();</span>
            <span class="n">mostraCamp</span><span class="p">(</span><span class="n">camp</span><span class="p">);</span>
            <span class="c1">// neteja la posició actual</span>
            <span class="n">netejaPosicio</span><span class="p">(</span><span class="n">camp</span><span class="p">,</span> <span class="n">posicio</span><span class="p">);</span>
            <span class="c1">// actualitza següent fila i columna</span>
            <span class="n">seguentPosicio</span><span class="p">(</span><span class="n">posicio</span><span class="p">,</span> <span class="n">increment</span><span class="p">);</span>
            <span class="c1">// espera resposta</span>
            <span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">printf</span><span class="p">(</span><span class="s">&quot;%nEnter per continuar&quot;</span><span class="p">);</span>
            <span class="n">Entrada</span><span class="p">.</span><span class="na">readLine</span><span class="p">();</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</td></tr></table></div>
</div>
</div>


           </div>
           
          </div>
    <div class="googleanalytics">
    <div id="cookiesbox">
        Aquest lloc web utilitza galetes (<i>cookies</i>) per a analitzar el seu ús
        amb les eines que ofereix <a href="https://www.google.com/analytics">Google Analytics</a>.
        En continuar navegant-hi, estàs acceptant-ho.
        <br/>
        <a class="btn btn-neutral" onclick="setUserAcceptsCookies();">
            Tancar
            <span class="fa fa-window-close"></span>
        </a>
    </div>
    <script>setCookiesboxVisibility();</script>
    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
      ga('create', 'UA-41103782-2', 'auto');
      ga('send', 'pageview');
    </script>
</div>


          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="exercici_02_41_formes.html" class="btn btn-neutral float-right" title="Exercici 02_41. Transformació de formes" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="exercici_02_39_pilota_cau.html" class="btn btn-neutral float-left" title="Exercici 02_39. La pilota que cau" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright 2021-2022 Moisès Gómez Girón

    </p>
  </div> 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>