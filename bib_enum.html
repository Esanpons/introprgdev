

<!DOCTYPE html>
<html class="writer-html5" lang="ca" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Enumerats &mdash; Introducció a la programació amb Java 2021-22 documentació</title>
  

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/moistyle.css" type="text/css" />

  
  
  
  

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/language_data.js"></script>
        <script src="_static/translations.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    
    <link rel="author" title="Quant a aquests documents" href="about.html" />
    <link rel="index" title="Índex" href="genindex.html" />
    <link rel="search" title="Cerca" href="search.html" />
    <link rel="next" title="Llistes" href="bib_lists.html" />
    <link rel="prev" title="Excepcions" href="bib_excepcions.html" />
     
    <script class="googleanalytics" src="_static/moiscripts.js"></script>

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home" alt="Documentation Home"> Introducció a la programació amb Java
          

          
            
            <img src="_static/logoprg.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <div class="version">
                Curs 2021-22
              </div>
            
          

          

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="primeres_passes.html">Primeres passes</a></li>
<li class="toctree-l1"><a class="reference internal" href="basics.html">Elements bàsics de la programació</a></li>
<li class="toctree-l1"><a class="reference internal" href="moduls.html">Mòduls</a></li>
<li class="toctree-l1"><a class="reference internal" href="fitxers.html">Fitxers</a></li>
<li class="toctree-l1"><a class="reference internal" href="poo.html">Programació Orientada a Objectes</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="bib.html">Biblioteques</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="bib_botigavins.html">El celler de la Bona Estrella</a></li>
<li class="toctree-l2"><a class="reference internal" href="bib_csv.html">Guardem les dades</a></li>
<li class="toctree-l2"><a class="reference internal" href="bib_vi.html">Vins complets</a></li>
<li class="toctree-l2"><a class="reference internal" href="bib_excepcions.html">Excepcions</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Enumerats</a></li>
<li class="toctree-l2"><a class="reference internal" href="bib_lists.html">Llistes</a></li>
<li class="toctree-l2"><a class="reference internal" href="bib_exercicis.html">Exercicis</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="apendix.html">Apèndix</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Introducció a la programació amb Java</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="bib.html">Biblioteques</a> &raquo;</li>
        
      <li>Enumerats</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
    
           <div itemprop="articleBody">
            
  <div class="section" id="enumerats">
<h1>Enumerats<a class="headerlink" href="#enumerats" title="Link permanent a aquest títol">¶</a></h1>
<p>Fins ara hem fet servir literals de tipus String per definir els diferents valors
d’algunes propietats. Per exemple, recordem el nostre amic el Gat Renat:</p>
<div class="figure align-center">
<p class="plantuml">
<img src="_images/plantuml-e78303409ce209768111689981165033868e07a1.png" alt=" &#64;startuml
 hide circle
 skinparam monochrome true
 skinparam classAttributeIconSize 0


 class GatRenat {
    - posicio: String
    + GatRenat(String)
    + getPosicio(): String
    + setPosicio(String)
 }
 &#64;enduml"/>
</p>
</div>
<p>Recordem que els valors vàlids de <code class="docutils literal notranslate"><span class="pre">posicio</span></code> eren <code class="docutils literal notranslate"><span class="pre">&quot;dret&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;assegut&quot;</span></code> i
<code class="docutils literal notranslate"><span class="pre">&quot;estirat&quot;</span></code>. i que, per a assegurar que sempre eren vàlids, havíem de
controlar els valors en els diferents punts en que es podien canviar: al
constructor i al <em>setter</em></p>
<div class="highlight-java notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span> <span class="kd">public</span> <span class="kd">class</span> <span class="nc">GatRenat</span> <span class="p">{</span>
     <span class="kd">private</span> <span class="n">String</span> <span class="n">posicio</span> <span class="o">=</span> <span class="s">&quot;estirat&quot;</span><span class="p">;</span>
     <span class="kd">public</span> <span class="nf">GatRenat</span><span class="p">(</span><span class="n">String</span> <span class="n">posicio</span><span class="p">)</span> <span class="p">{</span>
         <span class="n">setPosicio</span><span class="p">(</span><span class="n">posicio</span><span class="p">);</span>
     <span class="p">}</span>
     <span class="kd">public</span> <span class="kt">void</span> <span class="nf">setPosicio</span><span class="p">(</span><span class="n">String</span> <span class="n">posicio</span><span class="p">)</span> <span class="p">{</span>
         <span class="k">if</span> <span class="n">posicioValida</span><span class="p">(</span><span class="n">posicio</span><span class="p">)</span> <span class="p">{</span>
             <span class="k">this</span><span class="p">.</span><span class="na">posicio</span> <span class="o">=</span> <span class="n">posicio</span><span class="p">;</span>
         <span class="p">}</span>
     <span class="p">}</span>
     <span class="kd">public</span> <span class="kd">static</span> <span class="kt">boolean</span> <span class="nf">posicioValida</span><span class="p">(</span><span class="n">String</span> <span class="n">posicio</span><span class="p">)</span> <span class="p">{</span>
         <span class="k">return</span>  <span class="s">&quot;dret&quot;</span><span class="p">.</span><span class="na">equals</span><span class="p">(</span><span class="n">posicio</span><span class="p">)</span> <span class="o">||</span> <span class="s">&quot;assegut&quot;</span><span class="p">.</span><span class="na">equals</span><span class="p">(</span><span class="n">posicio</span><span class="p">)</span> <span class="o">||</span> <span class="s">&quot;estirat&quot;</span><span class="p">.</span><span class="na">equals</span><span class="p">(</span><span class="n">posicio</span><span class="p">);</span>
     <span class="p">}</span>
     <span class="cm">/* … */</span>
 <span class="p">}</span>
</pre></div>
</td></tr></table></div>
<p>D’aquesta manera, podem estar segurs que l’estat del gat Renat sempre
tindrà un valor correcte per <code class="docutils literal notranslate"><span class="pre">posicio</span></code>, fins i tot quan li assignem
un valor que no coneixem en temps de compilació:</p>
<div class="highlight-java notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal">1</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span> <span class="n">GatRenat</span> <span class="n">renat</span> <span class="o">=</span> <span class="k">new</span> <span class="n">GatRenat</span><span class="p">(</span><span class="n">Entrada</span><span class="p">.</span><span class="na">readLine</span><span class="p">());</span>
</pre></div>
</td></tr></table></div>
<p>Si bé aquest mecanisme funciona i ens garanteix que <code class="docutils literal notranslate"><span class="pre">posicio</span></code> només pot
tenir valors vàlids, no és gaire satisfactori. Un problema interessant és
que, en cas que li intentem assignar un valor no vàlid des de programa,
l’error només serà detectable en el moment de l’execució.</p>
<div class="highlight-java notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal">1</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span> <span class="n">renat</span><span class="p">.</span><span class="na">setEstat</span><span class="p">(</span><span class="s">&quot;drot&quot;</span><span class="p">);</span>     <span class="c1">// atenció a la &#39;o&#39;!</span>
</pre></div>
</td></tr></table></div>
<p>No hi haurà algun mecanisme per <em>enumerar</em> tots els valors vàlids de
<code class="docutils literal notranslate"><span class="pre">posicio</span></code>?</p>
<div class="section" id="enum">
<h2>enum<a class="headerlink" href="#enum" title="Link permanent a aquest títol">¶</a></h2>
<p>Com molts llenguatges de programació, Java ens ofereix la possibilitat de
definir <em>enumerats</em>: tipus de dades que tenen limitats els valors
possibles a una llista.</p>
<p>En el cas de Java, aquesta funcionalitat l’ofereixen els <code class="docutils literal notranslate"><span class="pre">enum</span></code>.</p>
<p>Una bona font de consulta és el <a class="reference external" href="https://docs.oracle.com/javase/tutorial/java/javaOO/enum.html">tutorial de enumerats</a> «oficial».</p>
<p>Si mirem aquesta documentació/tutorial, veurem que ens ofereix la següent
definició:</p>
<div class="highlight-java notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span> <span class="kd">public</span> <span class="kd">enum</span> <span class="n">DiaSetmana</span> <span class="p">{</span>
     <span class="n">DILLUNS</span><span class="p">,</span> <span class="n">DIMARTS</span><span class="p">,</span> <span class="n">DIMECRES</span><span class="p">,</span> <span class="n">DIJOUS</span><span class="p">,</span> <span class="n">DIVENDRES</span><span class="p">,</span> <span class="n">DISSABTE</span><span class="p">,</span> <span class="n">DIUMENGE</span>
 <span class="p">}</span>
</pre></div>
</td></tr></table></div>
<p>Un cop definit <code class="docutils literal notranslate"><span class="pre">DiaSetmana</span></code>, podem tenir variables d’aquest tipus,
assignar-li valors, etc:</p>
<div class="highlight-java notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="n">DiaSetmana</span> <span class="n">dia</span> <span class="o">=</span> <span class="n">DiaSetmana</span><span class="p">.</span><span class="na">DILLUNS</span><span class="p">;</span>

<span class="k">if</span> <span class="p">(</span><span class="n">dia</span><span class="p">.</span><span class="na">equals</span><span class="p">(</span><span class="n">DiaSetmana</span><span class="p">.</span><span class="na">DIVENDRES</span><span class="p">))</span> <span class="p">{</span>
   <span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;Aquesta nit, festa de teulades!&quot;</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</td></tr></table></div>
</div>
<div class="section" id="enum-es-una-classe">
<h2><code class="docutils literal notranslate"><span class="pre">enum</span></code> és una classe<a class="headerlink" href="#enum-es-una-classe" title="Link permanent a aquest títol">¶</a></h2>
<p>Els enumerats en Java són en realitat un tipus especial de classe que
indica les instàncies possibles.</p>
<p>Com una classe qualsevol, té la possibilitat de definir els seus propis
atributs i mètodes.</p>
<p>Per exemple, considera el següent codi:</p>
<div class="highlight-java notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span>
<span class="normal">59</span>
<span class="normal">60</span>
<span class="normal">61</span>
<span class="normal">62</span>
<span class="normal">63</span>
<span class="normal">64</span>
<span class="normal">65</span>
<span class="normal">66</span>
<span class="normal">67</span>
<span class="normal">68</span>
<span class="normal">69</span>
<span class="normal">70</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span> <span class="kd">public</span> <span class="kd">class</span> <span class="nc">UsaDiaSetmana</span> <span class="p">{</span>
     <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="p">){</span>
         <span class="k">for</span> <span class="p">(</span><span class="n">DiaSetmana</span> <span class="n">dia</span><span class="p">:</span> <span class="n">DiaSetmana</span><span class="p">.</span><span class="na">values</span><span class="p">())</span> <span class="p">{</span>
             <span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">printf</span><span class="p">(</span><span class="s">&quot;El %s està en la posició %d%n&quot;</span><span class="p">,</span> <span class="n">dia</span><span class="p">,</span> <span class="n">dia</span><span class="p">.</span><span class="na">getCodi</span><span class="p">());</span>
         <span class="p">}</span>

         <span class="c1">// obtenim un dia des del seu codi</span>
         <span class="kt">int</span> <span class="n">diaSonInt</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
         <span class="n">DiaSetmana</span> <span class="n">diaSon</span> <span class="o">=</span> <span class="n">DiaSetmana</span><span class="p">.</span><span class="na">fromCodi</span><span class="p">(</span><span class="n">diaSonInt</span><span class="p">);</span>
         <span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">printf</span><span class="p">(</span><span class="s">&quot;Els %s tenim molta són%n&quot;</span><span class="p">,</span> <span class="n">diaSon</span><span class="p">);</span>

         <span class="c1">/// obtenim un dia des del seu nom</span>
         <span class="n">String</span> <span class="n">diaFestaStr</span> <span class="o">=</span> <span class="s">&quot;divendres&quot;</span><span class="p">;</span>
         <span class="n">DiaSetmana</span> <span class="n">diaFesta</span> <span class="o">=</span> <span class="n">DiaSetmana</span><span class="p">.</span><span class="na">fromString</span><span class="p">(</span><span class="n">diaFestaStr</span><span class="p">);</span>
         <span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">printf</span><span class="p">(</span><span class="s">&quot;Els %s fem festa a la teulada%n&quot;</span><span class="p">,</span> <span class="n">diaFesta</span><span class="p">);</span>

         <span class="c1">// veiem què passa si demanem un nom que no existeix</span>
         <span class="k">try</span> <span class="p">{</span>
             <span class="n">DiaSetmana</span><span class="p">.</span><span class="na">fromString</span><span class="p">(</span><span class="s">&quot;un dia qualsevol&quot;</span><span class="p">);</span>
         <span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="n">IllegalArgumentException</span> <span class="n">e</span><span class="p">)</span> <span class="p">{</span>
             <span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;Capturada la següent excepció:&quot;</span><span class="p">);</span>
             <span class="n">e</span><span class="p">.</span><span class="na">printStackTrace</span><span class="p">();</span>
         <span class="p">}</span>

         <span class="c1">// una manera similar d&#39;aconseguir el mateix que abans</span>
         <span class="k">try</span> <span class="p">{</span>
             <span class="n">DiaSetmana</span><span class="p">.</span><span class="na">valueOf</span><span class="p">(</span><span class="s">&quot;un dia qualsevol&quot;</span><span class="p">);</span>
         <span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="n">IllegalArgumentException</span> <span class="n">e</span><span class="p">)</span> <span class="p">{</span>
             <span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;Capturada la següent excepció:&quot;</span><span class="p">);</span>
             <span class="n">e</span><span class="p">.</span><span class="na">printStackTrace</span><span class="p">();</span>
         <span class="p">}</span>
     <span class="p">}</span>
 <span class="p">}</span>

 <span class="kd">interface</span> <span class="nc">Codificat</span> <span class="p">{</span>
     <span class="kd">public</span> <span class="kt">int</span> <span class="nf">getCodi</span><span class="p">();</span>
 <span class="p">}</span>

 <span class="kd">enum</span> <span class="n">DiaSetmana</span> <span class="kd">implements</span> <span class="n">Codificat</span> <span class="p">{</span>
     <span class="n">DILLUNS</span>   <span class="p">(</span><span class="mi">1</span><span class="p">),</span>
     <span class="n">DIMARTS</span>   <span class="p">(</span><span class="mi">2</span><span class="p">),</span>
     <span class="n">DIMECRES</span>  <span class="p">(</span><span class="mi">3</span><span class="p">),</span>
     <span class="n">DIJOUS</span>    <span class="p">(</span><span class="mi">4</span><span class="p">),</span>
     <span class="n">DIVENDRES</span> <span class="p">(</span><span class="mi">5</span><span class="p">),</span>
     <span class="n">DISSABTE</span>  <span class="p">(</span><span class="mi">6</span><span class="p">),</span>
     <span class="n">DIUMENGE</span>  <span class="p">(</span><span class="mi">7</span><span class="p">);</span>

     <span class="kd">private</span> <span class="kt">int</span> <span class="n">codi</span><span class="p">;</span>

     <span class="kd">private</span> <span class="nf">DiaSetmana</span><span class="p">(</span><span class="kt">int</span> <span class="n">codi</span><span class="p">)</span> <span class="p">{</span> <span class="k">this</span><span class="p">.</span><span class="na">codi</span> <span class="o">=</span> <span class="n">codi</span><span class="p">;</span> <span class="p">}</span>

     <span class="kd">public</span> <span class="kt">int</span> <span class="nf">getCodi</span><span class="p">()</span> <span class="p">{</span> <span class="k">return</span> <span class="n">codi</span><span class="p">;</span> <span class="p">}</span>

     <span class="nd">@Override</span>
     <span class="kd">public</span> <span class="n">String</span> <span class="nf">toString</span><span class="p">()</span> <span class="p">{</span> <span class="k">return</span> <span class="kd">super</span><span class="p">.</span><span class="na">toString</span><span class="p">().</span><span class="na">toLowerCase</span><span class="p">();</span> <span class="p">}</span>

     <span class="kd">public</span> <span class="kd">static</span> <span class="n">DiaSetmana</span> <span class="nf">fromCodi</span><span class="p">(</span><span class="kt">int</span> <span class="n">codi</span><span class="p">)</span> <span class="p">{</span>
         <span class="k">for</span> <span class="p">(</span><span class="n">DiaSetmana</span> <span class="n">dia</span><span class="p">:</span> <span class="n">DiaSetmana</span><span class="p">.</span><span class="na">values</span><span class="p">())</span> <span class="p">{</span>
             <span class="k">if</span> <span class="p">(</span><span class="n">dia</span><span class="p">.</span><span class="na">getCodi</span><span class="p">()</span> <span class="o">==</span> <span class="n">codi</span><span class="p">)</span> <span class="k">return</span> <span class="n">dia</span><span class="p">;</span>
         <span class="p">}</span>
         <span class="k">throw</span> <span class="k">new</span> <span class="n">IllegalArgumentException</span><span class="p">(</span><span class="n">String</span><span class="p">.</span><span class="na">format</span><span class="p">(</span><span class="s">&quot;Codi %d no suportat per DiaSetmana&quot;</span><span class="p">,</span> <span class="n">codi</span><span class="p">));</span>
     <span class="p">}</span>

     <span class="kd">public</span> <span class="kd">static</span> <span class="n">DiaSetmana</span> <span class="nf">fromString</span><span class="p">(</span><span class="n">String</span> <span class="n">nom</span><span class="p">)</span> <span class="p">{</span>
         <span class="k">for</span> <span class="p">(</span><span class="n">DiaSetmana</span> <span class="n">dia</span><span class="p">:</span> <span class="n">DiaSetmana</span><span class="p">.</span><span class="na">values</span><span class="p">())</span> <span class="p">{</span>
             <span class="k">if</span> <span class="p">(</span><span class="n">dia</span><span class="p">.</span><span class="na">name</span><span class="p">().</span><span class="na">equalsIgnoreCase</span><span class="p">(</span><span class="n">nom</span><span class="p">))</span> <span class="k">return</span> <span class="n">dia</span><span class="p">;</span>
         <span class="p">}</span>
         <span class="k">throw</span> <span class="k">new</span> <span class="n">IllegalArgumentException</span><span class="p">(</span><span class="n">String</span><span class="p">.</span><span class="na">format</span><span class="p">(</span><span class="s">&quot;Nom \&quot;%s\&quot; no suportat per DiaSetmana&quot;</span><span class="p">,</span> <span class="n">nom</span><span class="p">));</span>
     <span class="p">}</span>
 <span class="p">}</span>
</pre></div>
</td></tr></table></div>
<p>En executar-lo, obtindrem:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp"> $ </span>java UsaDiaSetmana
<span class="hll"><span class="go"> El dilluns està en la posició 1</span>
</span><span class="hll"><span class="go"> El dimarts està en la posició 2</span>
</span><span class="hll"><span class="go"> El dimecres està en la posició 3</span>
</span><span class="hll"><span class="go"> El dijous està en la posició 4</span>
</span><span class="hll"><span class="go"> El divendres està en la posició 5</span>
</span><span class="hll"><span class="go"> El dissabte està en la posició 6</span>
</span><span class="hll"><span class="go"> El diumenge està en la posició 7</span>
</span><span class="hll"><span class="go"> Els dilluns tenim molta són</span>
</span><span class="hll"><span class="go"> Els divendres fem festa a la teulada</span>
</span><span class="hll"><span class="go"> Capturada la següent excepció:</span>
</span><span class="hll"><span class="go"> java.lang.IllegalArgumentException: Nom &quot;un dia qualsevol&quot; no suportat per DiaSetmana</span>
</span><span class="hll"><span class="go">     at DiaSetmana.fromString(UsaDiaSetmana.java:68)</span>
</span><span class="hll"><span class="go">     at UsaDiaSetmana.main(UsaDiaSetmana.java:19)</span>
</span><span class="hll"><span class="go"> Capturada la següent excepció:</span>
</span><span class="hll"><span class="go"> java.lang.IllegalArgumentException: No enum constant DiaSetmana.un dia qualsevol</span>
</span><span class="hll"><span class="go">     at java.base/java.lang.Enum.valueOf(Enum.java:240)</span>
</span><span class="hll"><span class="go">     at DiaSetmana.valueOf(UsaDiaSetmana.java:39)</span>
</span><span class="hll"><span class="go">     at UsaDiaSetmana.main(UsaDiaSetmana.java:27)</span>
</span></pre></div>
</div>
<p>Pot ser interessant que mirem què ens ha generat <code class="docutils literal notranslate"><span class="pre">javac</span></code>:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>ls
<span class="hll"><span class="go">Codificat.class  DiaSetmana.class  UsaDiaSetmana.class  UsaDiaSetmana.java</span>
</span><span class="gp">$ </span>javap DiaSetmana.class
<span class="hll"><span class="go">Compiled from &quot;UsaDiaSetmana.java&quot;</span>
</span><span class="hll"><span class="go">final class DiaSetmana extends java.lang.Enum&lt;DiaSetmana&gt; implements Codificat {</span>
</span><span class="hll"><span class="go">  public static final DiaSetmana DILLUNS;</span>
</span><span class="hll"><span class="go">  public static final DiaSetmana DIMARTS;</span>
</span><span class="hll"><span class="go">  public static final DiaSetmana DIMECRES;</span>
</span><span class="hll"><span class="go">  public static final DiaSetmana DIJOUS;</span>
</span><span class="hll"><span class="go">  public static final DiaSetmana DIVENDRES;</span>
</span><span class="hll"><span class="go">  public static final DiaSetmana DISSABTE;</span>
</span><span class="hll"><span class="go">  public static final DiaSetmana DIUMENGE;</span>
</span><span class="hll"><span class="go">  public static DiaSetmana[] values();</span>
</span><span class="hll"><span class="go">  public static DiaSetmana valueOf(java.lang.String);</span>
</span><span class="hll"><span class="go">  public int getCodi();</span>
</span><span class="hll"><span class="go">  public java.lang.String toString();</span>
</span><span class="hll"><span class="go">  public static DiaSetmana fromCodi(int);</span>
</span><span class="hll"><span class="go">  public static DiaSetmana fromString(java.lang.String);</span>
</span><span class="hll"><span class="go">  static {};</span>
</span><span class="hll"><span class="go">}</span>
</span></pre></div>
</div>
<p>T’has fixa’t? Al final, Java ha traduït <code class="docutils literal notranslate"><span class="pre">enum</span></code> a una classe més o menys normaleta?
Permet-me que et remarqui uns punts:</p>
<ul class="simple">
<li><p>ofereix una propietat estàtica i final per cada valor possible de
l’enumerat</p></li>
<li><p>ofereix un array que conté cadascun dels valors</p></li>
<li><p>la classe està declarada amb el mateix nom que l’enumerat, i marcada com a <code class="docutils literal notranslate"><span class="pre">final</span></code>. Aquest modificador, quan està associat a una classe, fa que aquesta no pugui ser estesa (no podrà tenir subclasses)</p></li>
</ul>
<p>Amb una llista de propietats estàtiques i finals per cada valor possible.
Amb un array que conté tots aquests valors i</p>
<p><img alt="exerciseicon__T" src="_images/exerciseicon__T.png" /> <a class="reference internal" href="exercici_05_10_gatposicio.html"><span class="doc"> Exercici 05_10. Les posicions del gat Renat</span></a></p>
<p><img alt="exerciseicon__T" src="_images/exerciseicon__T.png" /> <a class="reference internal" href="exercici_05_11_viprotegit.html"><span class="doc"> Exercici 05_11. El vi protegit</span></a></p>
</div>
</div>


           </div>
           
          </div>
    <div class="googleanalytics">
    <div id="cookiesbox">
        Aquest lloc web utilitza galetes (<i>cookies</i>) per a analitzar el seu ús
        amb les eines que ofereix <a href="https://www.google.com/analytics">Google Analytics</a>.
        En continuar navegant-hi, estàs acceptant-ho.
        <br/>
        <a class="btn btn-neutral" onclick="setUserAcceptsCookies();">
            Tancar
            <span class="fa fa-window-close"></span>
        </a>
    </div>
    <script>setCookiesboxVisibility();</script>
    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
      ga('create', 'UA-41103782-2', 'auto');
      ga('send', 'pageview');
    </script>
</div>


          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="bib_lists.html" class="btn btn-neutral float-right" title="Llistes" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="bib_excepcions.html" class="btn btn-neutral float-left" title="Excepcions" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright 2021-2022 Moisès Gómez Girón

    </p>
  </div> 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>